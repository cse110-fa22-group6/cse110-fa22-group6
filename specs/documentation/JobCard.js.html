<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JobCard.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#add_jobs_to_document">add_jobs_to_document</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#get_jobs_from_storage">get_jobs_from_storage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#init_form_handler">init_form_handler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#progress_bar_listener">progress_bar_listener</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#update_progress">update_progress</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">JobCard.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* eslint-disable snakecasejs/snakecasejs */
// JobCard.js
class JobCard extends HTMLElement {
  constructor() {
    super(); // Inheret everything from HTMLElement
    // Attaches the shadow DOM to this Web Component
    let shadow_element = this.attachShadow({ mode: "open" });
    // Creates an &lt;article> element
    let article_element = document.createElement("article");
    // Create a style element
    let style_element = document.createElement("style");

    //Job card CSS goes here
    style_element.textContent = `
    @font-face {
      font-family: Spoof, serif;
      src: url("../font/Spoof-Regular.woff") format("woff");
    }
    
    * {
      font-family: Spoof, serif;
    }
    
    .grid-container {
      display: grid;
      grid-template-columns: 0.15fr .7fr 1fr 0.2fr;
      background: #e6e6e6;
      padding: 20px 30px;
      border: 3px solid black;
      margin: 1em 0;
    }
    
    .grid-1 {
      align-self: center;
      place-self: center;
    }
    
    .grid-1 img {
      font-size: 50px;
      margin-top: 20%;
      padding-right: 10px;
    }
    
    .grid-2 {
      position: relative;
      left: 10px;
      padding: auto;
    }
    
    .delete-icon,
    .edit-icon {
      border: none;
      cursor: pointer;
      background-color: #e6e6e6;
      width: 1.5rem
    }
    
    .grid-4 {
      text-align: center;
      padding-left: 20px;
    }
    
    .position {
      font-weight: bold;
      font-size: 25px;
    }
    
    .company,
    .location {
      font-size: 16px;
    }
    
    .position,
    .company,
    .location {
      margin: 0;
      width: 94%;
    }
    
    .job-card {
      background: grey;
      border: 2px solid black;
      padding: 3px 10px;
    }
    
    #progress-1,
    #progress-2 {
      position: relative;
    }
    
    #progress-bar-1,
    #progress-bar-2{
      position: absolute;
      background: black;
      margin: none;
      width: 100%;
      height: 5px;
      top: 50%
    }
    
    
    .stages {
      margin: 0;
      padding: 0;
      list-style: none;
      display: flex;
      justify-content: space-between;
      height: 100%;
      align-items: center;
    }
    
    .stages::before {
      position: absolute;
      width: 97%;
    }
    
    .stages .step {
      border: 3px solid black;
      cursor: pointer;
      border-radius: 100%;
      width: 25px;
      height: 25px;
      background-color: #fff;
      position: relative;
    }
    
    .stages .step span {
      display: none;
    }
    
    .stages .step p {
      text-align: center;
      line-height: 300%;
      cursor: default;
      font-size: 16px;
    }
    
    .stages .step.active {
      background-color: #95a1f1;
    }
    
    /* MEDIA QUERIES */
    @media screen and (max-width: 1127px) {
      .grid-container {
        grid-template-columns: 0.15fr .5fr 1.2fr 0.2fr;
      }
      .position {
        font-weight: bold;
        font-size: 23px;
      }
      .company,
      .location {
        font-size: 14px;
      }
      .stages .step p {
        top: 15px;
        font-size: 14px;
      }
      .grid-1 i {
        padding-bottom: 20px;
        font-size: 45px;
      }
    } 
    
    @media screen and (max-width: 920px) {
      .grid-container {
        grid-template-columns: 0.15fr .45fr 1.47fr 0.08fr;
      }
      .position {
        font-weight: bold;
        font-size: 23px;
      }
      .company,
      .location {
        font-size: 14px;
      }
      .stages .step p {
        top: 15px;
        font-size: 14px;
      }
      .grid-1 i {
        padding-bottom: 40px;
        font-size: 40px;
    
      }
    } 
    
    @media screen and (max-width: 790px) {
      .grid-container {
        grid-template-columns: 0.13fr .41fr 1.53fr 0.08fr;
      }
      .position {
        font-weight: bold;
        font-size: 21px;
      }
      .company,
      .location {
        font-size: 12px;
      }
      .stages .step p {
        padding-top: 8px;
        font-size: 12px;
      }
      .grid-1 i {
        padding-bottom: 40px;
        font-size: 35px;
      }
    } 
    
    @media screen and (max-width: 790px) {
      .grid-container {
        grid-template-columns: 0.13fr .43fr 1.53fr 0.06fr;
      }
      .position {
        font-weight: bold;
        font-size: 19px;
      }
      .company,
      .location {
        font-size: 10px;
      }
      .stages .step p {
        padding-top: 10px;
        font-size: 10px;
      }
      .grid-1 i {
        padding-bottom: 40px;
      }
      .grid-2 {
        padding-right: 10px;
      }
    } 
    
    @media screen and (max-width: 640px) {
      .grid-container {
        grid-template-columns: 0.13fr .43fr 1.53fr 0.06fr;
      }
      .position {
        font-weight: bold;
        font-size: 17px;
      }
      .company,
      .location {
        font-size: 8px;
      }
      .stages .step p {
        padding-top: 15px;
        font-size: 8px;
      }
      .grid-1 i {
        padding-bottom: 40px
      }
      .grid-2 {
        padding-right: 20px;
      }
    } 
    `;

    // Appends the &lt;style> and &lt;article> elements to the Shadow DOM
    shadow_element.append(style_element);
    shadow_element.append(article_element);
  }

  /**
   * Called when the .data property is set on this element.
   *
   * @param {Object} data - The data to pass into the &lt;job-card>, must be of the
   *                        following format:
   *                        {
   *                          "id": automatically assigned by number of job card
   *                          "company": "Google",(str)
   *                          "location": "Mountain View, CA",(str)
   *                          "status": 5,(unapplied, applied, rejected, screened, interviewed, offer)
   *                          "position": "Data Science Intern", (str)
   *                          "date": "12/24/2022" (str)
   */
  set data(data) {
    // If nothing was passed in, return
    if (!data) return;

    //  Selects the &lt;article> we added to the Shadow DOM in the constructor
    let shadow_article = this.shadowRoot.querySelector("article");
    const id = data.id;
    const company = data.company;
    const location = data.location;
    const status = data.status; //"status":,(unapplied, applied, rejected, screened, interviewed, offer)
    const position = data.position;
    const date = data.date;

    shadow_article.innerHTML = `
    &lt;!-- BEGIN JOB CARD -->
    &lt;div class="grid-container">
      &lt;!--     Logo (for the future)  -->
      &lt;div class="grid-1">

        &lt;input type="image" src="../source/assets/images/image-solid.svg" />
      &lt;/div>

      &lt;!--     Application Text -->
      &lt;div class="grid-2">
        &lt;p class="position">${position}&lt;/p>
        &lt;p class="company">${company}&lt;/p>
        &lt;p class="location">${location}&lt;/p>
      &lt;/div>

      &lt;!--     Progress Bar -->
      &lt;div id="progress-1" class="grid-3">
        &lt;div id="progress-bar-1">&lt;/div>
        &lt;ul class="stages">
          &lt;li class="step">
            &lt;span>1&lt;/span>
            &lt;p>Rejected&lt;/p>
          &lt;/li>
          &lt;li class="step">
            &lt;span>2&lt;/span>
            &lt;p>Unapplied&lt;/p>
          &lt;/li>
          &lt;li class="step">
            &lt;span>3&lt;/span>
            &lt;p>Applied&lt;/p>
          &lt;/li>
          &lt;li class="step">
            &lt;span>4&lt;/span>
            &lt;p>Screening&lt;/p>
          &lt;/li>
          &lt;li class="step">
            &lt;span>5&lt;/span>
            &lt;p>Interview&lt;/p>
          &lt;/li>
          &lt;li class="step">
            &lt;span>6&lt;/span>
            &lt;p>Offer&lt;/p>
          &lt;/li>
        &lt;/ul>
      &lt;/div>

      &lt;!--       Trash/Pencil Icons -->
      &lt;div class="grid-4">
      &lt;input class="delete-icon" type="image" src="../source/assets/images/trash-solid.svg" />
      &lt;input class="edit-icon" type="image" src="../source/assets/images/pen-solid.svg" />
      &lt;/div>
    &lt;/div>

    &lt;!-- END JOB CARD -->
      `;

    // update stage
    var stage = this.shadowRoot.querySelector(".stages").querySelectorAll("li");
    stage[status].classList.add("active");
    for (let i = 0; i &lt; stage.length; i++) {
      stage[i].addEventListener("click", function (e) {
        // get which bubble was clicked for that specific progress bar
        if (e.target &amp;&amp; e.target.nodeName == "LI") {
          console.log(`updating progress bar ${i}`);
          // make the clicked bubble purple and all others white
          stage[status].classList.remove("active");
          stage[i].classList.add("active");
          let items = localStorage.getItem("jobs");
          let item_list = JSON.parse(items);
          item_list[id]["status"] = String(i);
          localStorage.setItem("jobs", JSON.stringify(item_list));
          window.location.reload();
        }
      });
    }

    this.shadowRoot
      .querySelector(".delete-icon")
      .addEventListener("click", () => {
        const delete_dialog = document.getElementById("delete-application");
        delete_dialog.showModal();
        document.getElementById("d-cancel").addEventListener("click", () => {
          delete_dialog.close();
        });
        document.getElementById("d-delete").addEventListener("click", () => {
          let items = window.localStorage.getItem("jobs");
          let item_list = JSON.parse(items);
          item_list.splice(id, 1);
          for (var i = 0; i &lt; item_list.length; i++) {
            item_list[i]["id"] = String(i);
          }
          localStorage.setItem("jobs", JSON.stringify(item_list));
          window.location.reload();
        });
      });

    // Button Event for Update(will go to update modal, and confirmation button in update modal will be below)
    // For status change, might be extracted to out of this button event to get user change
    // Jobcard 'id' is not changed for this button action
    this.shadowRoot
      .querySelector(".edit-icon")
      .addEventListener("click", () => {
        const edit_dialog = document.getElementById("edit-application");
        const edit_cancel = document.getElementById("edit-cancel");
        const edit_form = document.getElementById("edit-form");

        edit_dialog.showModal();
        document
          .getElementById("company-edit")
          .setAttribute("placeholder", company);
        document
          .getElementById("position-edit")
          .setAttribute("placeholder", position);
        document
          .getElementById("location-edit")
          .setAttribute("placeholder", location);
        document.getElementById("date-edit").setAttribute("placeholder", date);
        edit_cancel.addEventListener("click", () => {
          edit_dialog.close();
        });
        document.getElementById("edit-form").addEventListener("submit", () => {
          let items = window.localStorage.getItem("jobs");
          let item_list = JSON.parse(items);
          item_list[id]["company"] = edit_form.company.value;
          item_list[id]["position"] = edit_form.position.value;
          item_list[id]["location"] = edit_form.location.value;
          item_list[id]["date"] = edit_form.date.value;

          localStorage.setItem("jobs", JSON.stringify(item_list));
          window.location.reload();
        });
      });
  }
}

// Defines the Class as a customElement to create
// 'job-card' elements
customElements.define("job-card", JobCard);
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Thu Dec 01 2022 07:25:21 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
